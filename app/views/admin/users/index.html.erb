<% content_for :title do %>
  後台管理
<% end %>
<%= render "partials/header" %>

<div class="container">
  <div class="add_new_user_block">
    <%= link_to "新增使用者",new_admin_user_path, class: "btn btn-primary" %>  
  </div>

  <div class="all_users_block">
    <table class="table table-striped table-hover">
      <thead class="thead-dark">
        <tr>
          <th scope="col">名字</th>
          <th scope="col">權限</th>
          <th scope="col">文章數</th>
          <th scope="col">編輯</th>
          <th scope="col">刪除</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
        <tr>
          <th scope="row"><%= link_to user.name, admin_user_path(user) %></th>
          <td><%= user.role %></td>
          <td><%= user.tasks.size %></td>
          <td><%= link_to "編輯", edit_admin_user_path(id: user.id) %></td>
          <td><%= link_to "刪除", admin_user_path(id: user.id), method: :delete %></td>
        </tr>
        <% end %>
      </tbody>
    </table>

    <div class="page_number_block">
      <%= paginate @users %>
    </div>
  </div>
  
</div>